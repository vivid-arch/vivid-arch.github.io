<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="Vivid Features">

        <meta property="og:site_name" content="Laravel Vivid Architecture"/>
        <meta property="og:title" content="Features | Laravel Vivid Architecture"/>
        <meta property="og:description" content="Vivid Features"/>
        <meta property="og:url" content="https://vivid-arch.github.io/docs\foundation/features"/>
        <meta property="og:image" content="/assets/img/logo.png"/>
        <meta property="og:type" content="website"/>

        <meta name="twitter:image:alt" content="Laravel Vivid Architecture">
        <meta name="twitter:card" content="summary_large_image">

        
        <title>Laravel Vivid Architecture | Features</title>

        <link rel="home" href="https://vivid-arch.github.io/">
        <link rel="icon" href="/favicon.ico">

        
                    <!-- Insert analytics code here -->
        
        <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i,800,800i" rel="stylesheet">
        <link rel="stylesheet" href="/assets/build/css/main.css?id=3a7955c2061c89fe3394">

            </head>

    <body class="flex flex-col justify-between min-h-screen bg-gray-100 text-gray-800 leading-normal font-sans">
        <header class="flex items-center shadow bg-white border-b h-24 mb-8 py-4" role="banner">
            <div class="container flex items-center max-w-8xl mx-auto px-4 lg:px-8">
                <div class="flex items-center">
                    <a href="/" title="Laravel Vivid Architecture home" class="inline-flex items-center">
                        <img class="h-8 md:h-10 mr-3" src="/assets/img/logo.svg" alt="Laravel Vivid Architecture logo" />

                        <h1 class="text-lg md:text-2xl text-blue-900 font-semibold hover:text-blue-600 my-0 pr-4">Laravel Vivid Architecture</h1>
                    </a>
                </div>

                <div class="flex flex-1 justify-end items-center text-right md:pl-10">
                                    </div>
            </div>

                <button class="flex justify-center items-center bg-blue-500 border border-blue-500 h-10 mr-4 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

        </header>

        <main role="main" class="w-full flex-auto">
            <section class="container max-w-8xl mx-auto px-6 md:px-8 py-4">
    <div class="flex flex-col lg:flex-row">
        <nav id="js-nav-menu" class="nav-menu hidden lg:block">
            <ul class="my-0">
            <li class="pl-4">
            
        <a href="/docs/foundation/getting-started"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Foundation
        </a>
    
            
        <ul class="my-0">
            <li class="pl-4">
            
        <a href="/docs/foundation/installation"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Installation
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/foundation/devices"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Devices
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/foundation/controllers"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Controllers
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/foundation/features"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Features
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/foundation/jobs"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Jobs
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/foundation/domains"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Domains
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/foundation/operations"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Operations
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/foundation/resources"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Resources
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/foundation/views"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Views
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/foundation/events"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Events
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/foundation/instance"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Instance
        </a>
    
    </li>
    </ul>
    </li>
            <li class="pl-4">
            
        <a href="/docs/console/getting-started"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Console
        </a>
    
            
        <ul class="my-0">
            <li class="pl-4">
            
        <a href="/docs/console/installation"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Installation
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/console/commands"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Commands
        </a>
    
    </li>
    </ul>
    </li>
            <li class="pl-4">
            
        <a href="/docs/dashboard/getting-started"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Dashboard
        </a>
    
            
        <ul class="my-0">
            <li class="pl-4">
            
        <a href="/docs/dashboard/installation"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Installation
        </a>
    
    </li>
    </ul>
    </li>
            <li class="pl-4">
            
        <a href="/docs/ignition/getting-started"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Ignition Tab
        </a>
    
            
        <ul class="my-0">
            <li class="pl-4">
            
        <a href="/docs/ignition/installation"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Installation
        </a>
    
    </li>
    </ul>
    </li>
            <li class="pl-4">
            
        <a href="/docs/changelog"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            CHANGELOG
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/roadmap"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            ROADMAP
        </a>
    
    </li>
    </ul>
        </nav>

        <div class="w-full lg:w-3/5 break-words pb-16 lg:pl-4" v-pre>
            <h1>Features</h1>

<p>As the name suggests, Features serve a specific purpose and only one Feature can be executed per request.</p>

<p>Think of them as the intend of the request. For example a feature may be creating a post, authorizing a user, fetching a resource, etc...</p>

<p>Each Feature can only call Jobs and Operations and it should never communicate or invoke other Features.</p>

<p>Keep in mind that Features are Device depended, however you can also have global features that are located inside the <code>/app/Features</code> directory.</p>

<h2>Generating a Feature</h2>

<p>In order to generate a Feature using the Vivid Console type the following command:</p>

<pre><code class="language-sh">./vendor/bin/vivid make:feature &lt;feature&gt; [&lt;device&gt;]
</code></pre>

<p>If you do not specify a Device name the feature will be considered a global, and it will be placed inside the <code>/app/Features</code> directory.
Otherwise, the feature will belong to a Device, and it will be placed inside the <code>/app/Devices/&lt;device name&gt;/Features</code> directory respectively.</p>

<h2>Anatomy of the Feature</h2>

<p>A newly created feature will look like this:</p>

<pre><code class="language-php">&lt;?php

namespace App\Devices\Example\Features;

use Vivid\Foundation\Feature;
use Illuminate\Http\Request;

class ExampleFeature extends Feature
{
    public function handle(Request $request)
    {
    }
}
</code></pre>

<p>All the magic happens inside the <code>handle()</code> method. This is where you will call Jobs and Operations from.</p>

<h2>Serving a Feature</h2>

<p>Now that you have created a Feature, how do you use it?</p>

<p>As mentioned before, each Vivid Controller has access to the <code>Vivid\Foundation\ServesFeaturesTrait</code> which provides the <code>$this-&gt;serve()</code> method.
This trait dispatches the execution of the Feature and it also registers the Feature class FQN to the <code>Vivid\Foundation\Instance</code> class.</p>

<p>Here is an example using the Device Controller that serves a feature:</p>

<pre><code class="language-php">&lt;?php

namespace App\Devices\ExampleDevice\Http\Controllers;

use Illuminate\Http\Request;
use Vivid\Foundation\Http\Controller;

use App\Devices\Feature\ExampleFeature;

class ExampleController extends Controller
{
    public function index()
    {
        return $this-&gt;serve(ExampleFeature::class); 
    }
}
</code></pre>

<h2>Passing Parameters</h2>

<p>If you want to pass parameters when serving a feature you can do it by passing an associative array as a second parameter to the <code>serve()</code> method.</p>

<p>Here is an example of how that looks like:</p>

<pre><code class="language-php">[...]

public function index()
{
    return $this-&gt;serve(ExampleFeature::class, [
        'arg1' =&gt; 'value 1',
        'arg2' =&gt; 'value 2'
    ]); 
}

[...]
</code></pre>

<p>In order to accept these parameters from within our <code>ExampleFeature</code> class, we need to do the following:</p>

<pre><code class="language-php">[...]

class RetrievesAllUsersFeature extends Feature
{

    public function __construct($arg2, $arg1)
    {
        // set the arguments as class properties
    }

    public function handle(Request $request)
    {
        // handle
    }
}

</code></pre>

<p>You will notice that the order of the arguments doesn't match the order by which we passed them in. 
That's because Vivid doesn't care about the order of the arguments at all as long as the names are the same.</p>

<h2>Example of using a Feature</h2>

<p>Following the example that we introduced in the chapter about Devices, let see how we can determine which Features our application needs.</p>

<p>The easiest to understand and most universal concept is the one of the support portal. Virtually all services have the same functionality 
when it comes to handling support tickets. Also, that doesn't make our example too specific.</p>

<p>So, lets write down what we expect when think about a support portal. Definitely we need to be able to <strong>create a new ticker</strong>, <strong>add media tou our ticker</strong>,
<strong>add replies</strong>, <strong>mark it as closed</strong>, and from the admin panel wou should have the ability to <strong>assign the ticker</strong>, <strong>escalate it</strong>, <strong>updated the status</strong>.</p>

<p>Let't keep it simple for now and assume that these are all the things that we want to do when it comes to the support portal.</p>

<p>That leaves us with the following Vivid Features:</p>

<ul>
<li>CreateNewTicketFeature</li>
<li>AddMediaToTicketFeature</li>
<li>AddReplyToTicketFeature</li>
<li>MarkTicketAsClosedFeature</li>
<li>AssignTicketFeature</li>
<li>EscalateTicketFeature</li>
</ul>

<p>The next step is to use the console and generate these features. Once we have done that, we can move on and start writing our jobs.</p>
        </div>
    </div>
</section>
        </main>

        <script src="/assets/build/js/main.js?id=25e9d4a401264f358321"></script>

        <script>
    const navMenu = {
        toggle() {
            const menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
        },
    }
</script>

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-44791239-17"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-44791239-17');
        </script>

        <footer class="bg-white text-center text-sm mt-12 py-4" role="contentinfo">
            <ul class="flex flex-col md:flex-row justify-center">
                <li class="md:mr-2">
                    &copy; <a href="#" title="Tighten website">Vivid</a> 2020.
                </li>

                <li>
                    Built with <a href="http://jigsaw.tighten.co" title="Jigsaw by Tighten">Jigsaw</a>
                    and <a href="https://tailwindcss.com" title="Tailwind CSS, a utility-first CSS framework">Tailwind CSS</a>.
                </li>
            </ul>
        </footer>
    </body>
</html>
